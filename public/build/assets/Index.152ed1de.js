import C from"./Search.03ca865b.js";import{T as A}from"./Table.7532dcf1.js";import{_ as L,c as a,a as i,b as t,y as r,F as _,r as b,h as m,f as c,o as l,d,t as s,H as y,g as D}from"./app.f4b2b251.js";import"./Input.09d9931c.js";import"./CheckBox.cc62ca79.js";import"./Select.319f7f3f.js";import"./vanilla-picker.csp.f644cdcf.js";import"./debounce.b9d72112.js";import"./DateRangePicker.7b56d8be.js";import"./Pagination.8eecb841.js";import"./bootstrap.esm.2333d793.js";const H={components:{Search:C,Table:A},props:["data","tasks","filters"],data(){return{showStatistics:!1,tableOptions:{titles:[{name:this.__("Details"),className:"col-md-3"},{name:this.__("Status"),className:"col-md-2"},{name:this.__("Deadline"),className:"col-md-2"},{name:this.__("Author"),className:"col-md-3"},{name:this.__("Total"),className:"col-md-2 text-end"}]}}},methods:{toggleStatistics(){this.showStatistics=!this.showStatistics}}},V={class:"container page-container"},z=t("i",{class:"fa-solid fa-chart-column"},null,-1),F={key:0},I={key:1},O={key:0},P={class:"shadow bg-white rounded text-center p-1"},E={class:"mt-2"},M={class:"row mt-4"},j={class:"col-md-3"},q={class:"col-md-9"},G={colspan:"5",class:"border"},J={class:"w-100"},K={class:"col-md-3"},Q={class:"text-muted"},R={key:0},U={class:"text-muted"},W={class:"text-danger"},X={key:1,class:"badge bg-danger"},Y={class:"col-md-2"},Z={class:"col-md-2"},x={class:"col-md-3"},$={key:1},tt={class:"text-muted"},et={class:"col-md-2 text-end"},st={key:0,class:"mt-2 mb-2"},ot={colspan:"4"},lt={class:"task-list-title mt-3 mb-2"};function at(o,v,n,nt,u,g){const S=c("AppHead"),w=c("AddButton"),k=c("PageTitle"),N=c("Search"),h=c("Link"),T=c("Table");return l(),a(_,null,[i(S,{title:n.data.title},null,8,["title"]),t("div",V,[i(k,{title:n.data.title},{default:r(()=>[t("button",{onClick:v[0]||(v[0]=(...e)=>g.toggleStatistics&&g.toggleStatistics(...e)),type:"button",class:"btn btn-sm btn-light me-2"},[z,d("\xA0 "),u.showStatistics?(l(),a("span",F,s(o.__("Hide")),1)):(l(),a("span",I,s(o.__("Show")),1)),d(" \xA0"),t("span",null,s(o.__("Statistics")),1)]),i(w,{href:o.route("admin.tasks.create")},null,8,["href"])]),_:1},8,["title"]),u.showStatistics?(l(),a("div",O,[(l(!0),a(_,null,b(n.data.statistics,(e,f)=>(l(),a("div",{class:"row mb-4",key:f},[(l(!0),a(_,null,b(e,(p,B)=>(l(),a("div",{class:"col-md-2 col-sm-6",key:B},[t("div",P,[t("div",E,s(p.value),1),t("span",{style:y([{"font-size":"12px"},{color:p.color}])},s(p.name),5)])]))),128))]))),128))])):m("",!0),t("div",M,[t("div",j,[i(N,{data:n.data,filters:n.filters.filters,only:["tasks","filters"]},null,8,["data","filters"])]),t("div",q,[i(T,{options:u.tableOptions,links:n.tasks.links,total:n.tasks.total,tableStyle:"table-striped table-hover"},{default:r(()=>[(l(!0),a(_,null,b(n.tasks.data,(e,f)=>(l(),a("tr",{class:"mb-2 border-bottom",key:f},[t("td",G,[t("table",J,[t("tr",null,[t("td",K,[i(h,{href:o.route("admin.tasks.show",e.uuid)},{default:r(()=>[d(s(e.number),1)]),_:2},1032,["href"]),t("div",null,[t("small",Q,s(e.service.name),1)]),e.service_level?(l(),a("div",R,[t("small",U,[d(s(o.__("Service Level"))+" : ",1),t("span",W,s(e.service_level.name),1)])])):m("",!0),t("div",null,[t("small",null,[d(s(o.__("Customer"))+" : ",1),i(h,{href:o.route("admin.customers.show",e.customer.uuid)},{default:r(()=>[d(s(e.customer.full_name),1)]),_:2},1032,["href"])])]),e.invoice_id?m("",!0):(l(),a("span",X,s(o.__("Not Invoiced")),1))]),t("td",Y,[t("span",{class:"badge rounded-pill",style:y({backgroundColor:e.status.bg_color,color:e.status.color})},s(e.status.name),5)]),t("td",Z,s(o.localDate(e.dead_line)),1),t("td",x,[e.author?(l(),D(h,{key:0,href:o.route("admin.authors.show",e.author.uuid)},{default:r(()=>[d(s(e.author.full_name),1)]),_:2},1032,["href"])):(l(),a("span",$,s(o.__("Not assigned")),1)),t("div",null,[t("small",tt,s(o.__("Level"))+" : "+s(e.author_level.name),1)])]),t("td",et,s(o.formatMoney(e.total)),1)]),e.title?(l(),a("tr",st,[t("td",ot,[t("div",lt,s(o.__("Title"))+" : "+s(e.title),1)])])):m("",!0)])])]))),128))]),_:1},8,["options","links","total"])])])])],64)}const vt=L(H,[["render",at]]);export{vt as default};
